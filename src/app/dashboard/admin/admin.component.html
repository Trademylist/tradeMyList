<section class="section-container">
    <div class="content-wrapper">
        <div class="content-heading">
            <div class="row">
                <div class="col-lg-12">
                    <strong>
                        <!-- <i class="fa fa-product-hunt" aria-hidden="true"></i>  -->
                        Manage Admin 
                    </strong>
                </div>
            </div>
        </div>

        <div class="mb-1 alert alert-success" role="alert" *ngIf="successDiv">{{message}}
            <button type="button" class="cus-msg-close-btn" (click)="closeMessageDiv()">X</button>
        </div>
        <div class="mb-1 alert alert-danger" role="alert" *ngIf="errorDiv">{{message}}
            <button type="button" class="cus-msg-close-btn" (click)="closeMessageDiv()">X</button>
        </div>

        <div class="row" *ngIf="adminListDiv">
            <div class="col-lg-12">
                <div class="form-group">
                    <label>Search Admin</label>
                    <input class="form-control" type="text" [(ngModel)]="searchInput" placeholder="Search by admin">
                </div>
            </div>
            <div class="col-lg-12">
                <div class="input-group mb-1">
                    <div class="input-group-append">
                        <button class="btn btn-primary" (click)="addNew()"><i class="fa fa-plus-circle"></i> Add New </button>
                    </div>
                </div>
            </div>

            <div class="col-lg-12 table-responsive text-black">
                <table class="table table-striped table-hover cus-nowrap">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Admin Email</th>
                            <th>Name</th>
                            <!-- <th>Country</th> -->
                            <th>Created Date</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let getAdmin of getAdminDetails | searchFilter:searchInput | paginate: { itemsPerPage: 5, currentPage: p }; index as i">
                            <td>{{ getIndex(i) }}</td>
                            <td>{{getAdmin?.email}}</td>
                            <td>{{getAdmin?.username}}</td>
                            <!-- <td>{{getAdmin?.country[0].itemName}}</td> -->
                            <td>{{getAdmin?.createdAt | date}}</td>
                            <td *ngIf="getAdmin?.status=='In Active'">
                                <span class="badge badge-danger">In Active</span>
                            </td>
                            <td *ngIf="getAdmin?.status=='Active'">
                                <span class="badge badge-success">Active</span>
                            </td>
                            <td>
                                <span class="badge badge-success mr-2" style="cursor:pointer;" (click)="startEdit(getAdmin)">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i> 
                                </span>
                                <span class="badge badge-danger" style="cursor:pointer;" (click)="startDelete(getAdmin)">
                                    <i class="fa fa-trash" aria-hidden="true"></i>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <tfoot>
                    <tr>
                        <pagination-controls (pageChange)="p = $event"></pagination-controls>
                    </tr>
                </tfoot>
            </div>
        </div>

        <!-- <form *ngIf="isAddDiv" [formGroup]="adminForm" (ngSubmit)="addAdminDetails(adminForm.value)">
            <div class="row">
                <div class="col-lg-12 mb-2" style="border-bottom: 1px solid gray;">
                    <h4 (click)="closeAdd()">
                        <i class="fa fa-arrow-left mr-2" aria-hidden="true"></i> New Admin</h4>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Admin Email</label>
                        <input type="email" class="form-control" formControlName="email">
                    </div>
                    <p class="valid_message" *ngIf="adminForm.controls.email.hasError('required') && adminForm.controls.email.touched">* Email is required
                    </p>
                    <p class="valid_message" *ngIf="adminForm.controls.email.hasError('pattern') && adminForm.controls.email.touched">* Email pattern is not correct</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Select Country</label>
                        <angular2-multiselect class="form-control" [data]="countryList" formControlName="country" [settings]="dropdownSettings" (onSelect)="onItemSelect($event)" (onDeSelect)="OnItemDeSelect($event)" (onSelectAll)="onSelectAll($event)" (onDeSelectAll)="onDeSelectAll($event)">
                        </angular2-multiselect>
                    </div>
                    <p class="valid_message" *ngIf="adminForm.controls.country.hasError('required') && adminForm.controls.country.touched">* Country is required</p>
                </div>
                <div class="col-lg-12 mt-4">
                    <button type="submit" class="btn btn-success mr-3" [disabled]="!adminForm.valid">
                    <strong><i class="fa fa-check"></i> Create</strong>
                    </button>
                    <button class="btn btn-danger" (click)="closeAdd()">
                        <strong><i class="fa fa-times"></i> Cancel</strong>
                    </button>
                </div>
            </div>
        </form> -->

        <form *ngIf="isAddDiv" [formGroup]="adminForm" (ngSubmit)="addAdminDetails(adminForm.value)">
            <div class="row">
                <div class="col-lg-12 mb-2" style="border-bottom: 1px solid gray;">
                    <h4 (click)="closeAdd()">
                        <i class="fa fa-arrow-left mr-2" aria-hidden="true"></i> New Admin</h4>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Admin Email</label>
                        <input type="email" class="form-control" formControlName="email">
                    </div>
                    <p class="valid_message" *ngIf="adminForm.controls.email.hasError('required') && adminForm.controls.email.touched">* Email is required
                    </p>
                    <p class="valid_message" *ngIf="adminForm.controls.email.hasError('pattern') && adminForm.controls.email.touched">* Email pattern is not correct</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Name</label>
                        <input type="email" class="form-control" formControlName="username">
                    </div>
                    <p class="valid_message" *ngIf="adminForm.controls.username.hasError('required') && adminForm.controls.username.touched">* Name is required</p>
                </div>
                <!-- <div class="col-lg-6">
                    <div class="form-group">
                        <label>Select Country</label>
                        <angular2-multiselect class="form-control" [data]="countryList" formControlName="country" [settings]="dropdownSettings" (onSelect)="onItemSelect($event)" (onDeSelect)="OnItemDeSelect($event)" (onSelectAll)="onSelectAll($event)" (onDeSelectAll)="onDeSelectAll($event)">
                        </angular2-multiselect>
                    </div>
                    <p class="valid_message" *ngIf="adminForm.controls.country.hasError('required') && adminForm.controls.country.touched">* Country is required</p>
                </div> -->
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Access Permission</label>
                        <ul formGroupName="permission" >
                            <!-- <li><input type="checkbox" id="Manage Admin" formControlName="manage_admin"> Manage Admin </li> -->
                            <li><input type="checkbox" id="Manage Seller" formControlName="manage_seller"> Manage Seller</li>
                            <li class=" ">
                                <a>
                                    <span>Manage Product</span>
                                </a>
                              <ul>
                                <li> <input type="checkbox"  formControlName="manage_product"> Manage Product</li>
                                <li> <input type="checkbox"  formControlName="manage_product_category"> Manage Product category</li>
                                <!-- <li> <input type="checkbox"  formControlName="product_advertisement"> Product Advertisement</li> -->
                              </ul>
                            </li>
                            <li class=" ">
                                <a>
                                    <span>Manage Commercial</span>
                                </a>
                              <ul>
                                <li> <input type="checkbox" formControlName="manage_commercial"> Manage Commercial</li>
                                <li> <input type="checkbox" formControlName="manage_commercial_category"> Manage Commercial category</li>
                                <!-- <li> <input type="checkbox" formControlName="commercial_advertisement"> Commercial Advertisement</li> -->
 
                            </ul> 
                            </li>
                            <!-- <li class=" ">
                                <a>
                                    <span>Manage Offer-Discount</span>
                                </a>
                              <ul>
                                <li> <input type="checkbox" formControlName="admin_offer_banner"> Admin Offer Banner</li>
                                <li> <input type="checkbox" formControlName="seller_offer_banner"> Seller Offer Banner</li>
                                <li> <input type="checkbox" formControlName="offer_category"> Offer Category</li>
                                <li> <input type="checkbox" formControlName="offer_advertisement"> Offer Advertisement</li>
                            </ul> 
                            </li> -->

                            <!-- <li class=" ">
                                <a>
                                    <span>Manage Vacancy</span>
                                </a>
                              <ul>
                                <li> <input type="checkbox" formControlName="manage_vacancy"> Manage Vacancy</li>
                                <li> <input type="checkbox" formControlName="vacancy_advertisement"> Vacancy Advertisement</li>
                            </ul> 
                            </li> -->

                            <li><input type="checkbox" id="Manage Make And Model" formControlName="manage_make_model"> Manage Make And Model</li>
                            <li class=" ">
                                <a>
                                    <span>Manage Report</span>
                                </a>
                              <ul>
                                <li> <input type="checkbox" id="Manage Report Option" formControlName="manage_report_option"> Manage Report Option</li>
                                <!-- <li> <input type="checkbox" id="Manage Report Option" formControlName="manage_report_comments"> Manage Comments</li> -->
                              </ul>
                            </li>
                            <li><input type="checkbox" formControlName="cms"> CMS</li>
                            <li class=" ">
                                <a>
                                    <span>Setting</span>
                                </a>
                              <ul>
                                <li>  <input type="checkbox" formControlName="change_password"> Change Password</li>
                              </ul>
                            </li>
                          </ul>
                    </div>
                </div>
                <div class="col-lg-12 mt-4">
                    <button type="submit" class="btn btn-success mr-3" [disabled]="!adminForm.valid">
                    <strong><i class="fa fa-check"></i> Create</strong>
                    </button>
                    <button class="btn btn-danger" (click)="closeAdd()">
                        <strong><i class="fa fa-times"></i> Cancel</strong>
                    </button>
                </div>
            </div>
        </form>

        <form *ngIf="isEditDiv" [formGroup]="adminEditForm" (ngSubmit)="editAdminDetails(adminEditForm.value)">

            <div class="row">
                <div class="col-lg-12 mb-2" style="border-bottom: 1px solid gray;">
                    <h4 (click)="closeEdit()">
                        <i class="fa fa-arrow-left mr-2" aria-hidden="true"></i> Edit Admin</h4>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Admin Email</label>
                        <input type="email" class="form-control" formControlName="email">
                        <p class="valid_message" *ngIf="adminEditForm.controls.email.hasError('required') && adminEditForm.controls.email.touched">* Email is required
                        </p>
                        <p class="valid_message" *ngIf="adminEditForm.controls.email.hasError('pattern') && adminEditForm.controls.email.touched">* Email pattern is not correct</p>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Block / Unblock</label>
                        <select class="form-control" formControlName="status">
                        <option value="Active">Active</option>
                        <option value="In Active">In Active</option>
                    </select>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Name</label>
                        <input type="email" class="form-control" formControlName="username">
                    </div>
                    <p class="valid_message" *ngIf="adminEditForm.controls.username.hasError('required') && adminEditForm.controls.username.touched">* Name is required</p>
                </div>
                <!-- <div class="col-lg-6">
                    <div class="form-group">
                        <label>Select Country</label>
                        <angular2-multiselect class="form-control" [data]="countryList" formControlName="country" [settings]="dropdownSettings" (onSelect)="onItemSelect($event)" (onDeSelect)="OnItemDeSelect($event)" (onSelectAll)="onSelectAll($event)" (onDeSelectAll)="onDeSelectAll($event)">
                        </angular2-multiselect>
                        <p class="valid_message" *ngIf="adminEditForm.controls.country.hasError('required') && adminEditForm.controls.country.touched">* Country is required</p>
                    </div>
                </div> -->
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Access Permission</label>
                        <ul formGroupName="permission" >
                            <!-- <li><input type="checkbox" id="Manage Admin" formControlName="manage_admin"> Manage Admin </li> -->
                            <li><input type="checkbox" id="Manage Seller" formControlName="manage_seller"> Manage Seller</li>
                            <li class=" ">
                                <a>
                                    <span>Manage Product</span>
                                </a>
                              <ul>
                                <li> <input type="checkbox"  formControlName="manage_product"> Manage Product</li>
                                <li> <input type="checkbox"  formControlName="manage_product_category"> Manage Product category</li>
                                <!-- <li> <input type="checkbox"  formControlName="product_advertisement"> Product Advertisement</li> -->
                              </ul>
                            </li>
                            <li class=" ">
                                <a>
                                    <span>Manage Commercial</span>
                                </a>
                              <ul>
                                <li> <input type="checkbox" formControlName="manage_commercial"> Manage Commercial</li>
                                <li> <input type="checkbox" formControlName="manage_commercial_category"> Manage Commercial category</li>
                                <!-- <li> <input type="checkbox" formControlName="commercial_advertisement"> Commercial Advertisement</li> -->
 
                            </ul> 
                            </li>
                            <!-- <li class=" ">
                                <a>
                                    <span>Manage Offer-Discount</span>
                                </a>
                              <ul>
                                <li> <input type="checkbox" formControlName="admin_offer_banner"> Admin Offer Banner</li>
                                <li> <input type="checkbox" formControlName="seller_offer_banner"> Seller Offer Banner</li>
                                <li> <input type="checkbox" formControlName="offer_category"> Offer Category</li>
                                <li> <input type="checkbox" formControlName="offer_advertisement"> Offer Advertisement</li>
                            </ul> 
                            </li> -->

                            <!-- <li class=" ">
                                <a>
                                    <span>Manage Vacancy</span>
                                </a>
                              <ul>
                                <li> <input type="checkbox" formControlName="manage_vacancy"> Manage Vacancy</li>
                                <li> <input type="checkbox" formControlName="vacancy_advertisement"> Vacancy Advertisement</li>
                            </ul> 
                            </li> -->

                            <li><input type="checkbox" id="Manage Make And Model" formControlName="manage_make_model"> Manage Make And Model</li>
                            <li class=" ">
                                <a>
                                    <span>Manage Report</span>
                                </a>
                              <ul>
                                <li> <input type="checkbox" id="Manage Report Option" formControlName="manage_report_option"> Manage Report Option</li>
                                <!-- <li> <input type="checkbox" id="Manage Report Option" formControlName="manage_report_comments"> Manage Comments</li> -->
                              </ul>
                            </li>
                            <li><input type="checkbox" formControlName="cms"> CMS</li>
                            <li class=" ">
                                <a>
                                    <span>Setting</span>
                                </a>
                              <ul>
                                <li>  <input type="checkbox" formControlName="change_password"> Change Password</li>
                              </ul>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-12 mt-4">
                    <button type="submit" class="btn btn-success mr-3" [disabled]="!adminEditForm.valid">
                    <strong><i class="fa fa-check"></i> Update</strong>
                </button>
                    <button class="btn btn-danger" (click)="closeEdit()">
                    <strong><i class="fa fa-times"></i> Cancel</strong>
                </button>
                </div>
            </div>
        </form>
       
       
        <!-- <form *ngIf="isEditDiv" [formGroup]="adminEditForm" (ngSubmit)="editAdminDetails(adminEditForm.value)">

            <div class="row">
                <div class="col-lg-12 mb-2" style="border-bottom: 1px solid gray;">
                    <h4 (click)="closeEdit()">
                        <i class="fa fa-arrow-left mr-2" aria-hidden="true"></i> Edit Admin</h4>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Admin Email</label>
                        <input type="email" class="form-control" formControlName="email">
                        <p class="valid_message" *ngIf="adminEditForm.controls.email.hasError('required') && adminEditForm.controls.email.touched">* Email is required
                        </p>
                        <p class="valid_message" *ngIf="adminEditForm.controls.email.hasError('pattern') && adminEditForm.controls.email.touched">* Email pattern is not correct</p>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Block / Unblock</label>
                        <select class="form-control" formControlName="status">
                        <option value="Active">Active</option>
                        <option value="In Active">In Active</option>
                    </select>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Select Country</label>
                        <angular2-multiselect class="form-control" [data]="countryList" formControlName="country" [settings]="dropdownSettings" (onSelect)="onItemSelect($event)" (onDeSelect)="OnItemDeSelect($event)" (onSelectAll)="onSelectAll($event)" (onDeSelectAll)="onDeSelectAll($event)">
                        </angular2-multiselect>
                        <p class="valid_message" *ngIf="adminEditForm.controls.country.hasError('required') && adminEditForm.controls.country.touched">* Country is required</p>
                    </div>
                </div>
                <div class="col-lg-12 mt-4">
                    <button type="submit" class="btn btn-success mr-3" [disabled]="!adminEditForm.valid">
                    <strong><i class="fa fa-check"></i> Update</strong>
                </button>
                    <button class="btn btn-danger" (click)="closeEdit()">
                    <strong><i class="fa fa-times"></i> Cancel</strong>
                </button>
                </div>
            </div>
        </form> -->
    
    </div>
</section>